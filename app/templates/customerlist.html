{% extends 'index.html' %}

{% block content %}
<h1>Customers</h1>

<!-- Form for adding a new customer -->
<h2>Add New Customer</h2>
<form method="post" action="{% url 'add_customer' %}">
    {% csrf_token %}
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" required>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" name="email" required>
    </div>
    <div class="form-group">
        <label for="phone">Phone</label>
        <input type="text" class="form-control" id="phone" name="phone" required>
    </div>
    <div class="form-group">
        <label for="address">Address</label>
        <input type="text" class="form-control" id="address" name="address" required>
    </div>
    <button type="submit" class="btn btn-primary">Add Customer</button>
</form>

<!-- List of customers -->
<h2>Customer List</h2>
{% for customer in customers %}
<div class="card" style="width: 50rem;">
    <div class="card-body">
        <h3 class="card-title">{{ customer.name }}</h3>
        <h5 class="card-text">Email: {{ customer.email }}</h5>
        <p class="card-text">Phone: {{ customer.phone }}</p>
        <p class="card-text">Address: {{ customer.address }}</p>
        <a href="{% url 'confirm_delete_customer' customer.id %}" class="btn btn-danger">Delete</a>
    </div>
</div>
{% empty %}
<p>No customers found.</p>
{% endfor %}
{% endblock %}